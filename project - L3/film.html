<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Movie Section ‚Äî Kelas L3</title>
  <style>
    :root{
      --bg-1: #071021;
      --bg-2: #0f2a44;
      --card: rgba(255,255,255,0.06);
      --accent: #00ffd1;
      --muted: rgba(255,255,255,0.7);
      --glass: rgba(255,255,255,0.04);
      --radius: 14px;
      --shadow: 0 8px 30px rgba(2,6,23,0.6);
      --max-width: 1200px;
    }
    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: linear-gradient(180deg,var(--bg-1),var(--bg-2)); color: #f5f7fb; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    .wrap{ max-width:var(--max-width); margin:32px auto; padding:20px; }

    .header { display:flex; gap:16px; align-items:center; justify-content:space-between; margin-bottom:18px; }
    .brand { display:flex; gap:12px; align-items:center; }
    .logo { width:56px; height:56px; border-radius:12px; background: linear-gradient(135deg,#00ffd1,#00aaff); display:flex; align-items:center; justify-content:center; color:#002020; font-weight:800; font-size:18px; box-shadow: var(--shadow); }
    .brand h1 { font-size:20px; margin:0; letter-spacing:0.2px; }
    .brand p { margin:0; font-size:12px; color:var(--muted); }

    .controls { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .search { display:flex; align-items:center; gap:10px; background:var(--glass); padding:10px 12px; border-radius:12px; min-width:240px; }
    .search input{ background:transparent; border:0; outline:none; color:inherit; min-width:160px; font-size:14px; }
    .select, .btn { background:var(--card); border-radius:12px; padding:10px 12px; border:1px solid rgba(255,255,255,0.04); color:inherit; font-size:14px; }
    .btn { cursor:pointer; display:inline-flex; align-items:center; gap:8px; user-select:none; }
    .btn:hover{ transform:translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.6); }

    .main { display:grid; grid-template-columns: 1fr 340px; gap:22px; align-items:start; }

    .movies { display:grid; grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); gap:18px; }

    .card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; overflow:hidden; position:relative; box-shadow: 0 6px 20px rgba(0,0,0,0.6); transition: transform .25s ease, box-shadow .25s ease; }
    .card:hover { transform: translateY(-8px); box-shadow: 0 18px 40px rgba(0,0,0,0.7); }
    .poster { width:100%; aspect-ratio: 2/3; object-fit:cover; display:block; background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
    .card-body { padding:12px; }
    .title { font-size:15px; font-weight:700; margin:0 0 6px 0; color:#eafcff; }
    .meta { font-size:12px; color:var(--muted); display:flex; justify-content:space-between; gap:6px; align-items:center; }
    .rating { display:inline-flex; gap:6px; align-items:center; background:rgba(0,0,0,0.25); padding:6px 8px; border-radius:10px; font-weight:700; color:var(--accent); }
    .actions { display:flex; gap:8px; margin-top:10px; }

    .icon-btn { background:transparent; border:1px solid rgba(255,255,255,0.06); color:inherit; padding:8px; border-radius:10px; cursor:pointer; display:inline-flex; align-items:center; gap:8px; }
    .icon-btn.heart.active { background:linear-gradient(90deg,#ff6b6b,#ff3d71); color:#fff; border-color:transparent; box-shadow: 0 6px 18px rgba(255,60,90,0.15); }
    .icon-btn:hover { transform:translateY(-3px); }

    .sidebar { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:16px; height:fit-content; position:sticky; top:24px; }
    .sidebar h3 { margin:0 0 12px 0; font-size:16px; color:var(--accent); }
    .filter-group { margin-bottom:12px; }
    .chips { display:flex; gap:8px; flex-wrap:wrap; }
    .chip { padding:8px 10px; border-radius:999px; background:rgba(255,255,255,0.03); cursor:pointer; font-size:13px; border:1px solid rgba(255,255,255,0.02); }
    .chip.active { background:linear-gradient(90deg,#00ffd1,#00aaff); color:#001; font-weight:700; border-color:transparent; transform:translateY(-2px); }
    .watchlist { margin-top:18px; }
    .wl-item { display:flex; gap:10px; align-items:center; margin-bottom:10px; }
    .wl-item img { width:48px; height:72px; object-fit:cover; border-radius:6px; }

    .pagination { display:flex; gap:8px; justify-content:center; margin-top:18px; align-items:center; }
    .page-btn { padding:8px 12px; border-radius:8px; background:transparent; border:1px solid rgba(255,255,255,0.04); cursor:pointer; }
    .page-btn.active { background:linear-gradient(90deg,#00ffd1,#00aaff); color:#001; font-weight:700; border-color:transparent; }

    .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; padding:20px; z-index:50; }
    .modal { width:100%; max-width:900px; background:linear-gradient(180deg, #021021, #072032); border-radius:12px; padding:18px; color:#fff; box-shadow: 0 18px 60px rgba(0,0,0,0.8); }
    .modal .modal-header{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .modal .modal-body{ display:grid; grid-template-columns: 1fr 360px; gap:18px; margin-top:14px; }
    .modal .modal-body img{ width:100%; border-radius:8px; height:100%; object-fit:cover; }
    .close-btn{ background:transparent; border:1px solid rgba(255,255,255,0.06); padding:8px 10px; border-radius:8px; cursor:pointer; color:inherit; }

    @media (max-width: 980px){ .main { grid-template-columns: 1fr; } .modal .modal-body { grid-template-columns: 1fr; } .sidebar{ position:static; top:auto; } }
    @media (max-width:560px){ .hero { padding: 8px; } .brand h1 { font-size:16px; } }

    .movie-section { padding: 40px; background: var(--bg-1),var(--bg-2); color: #fff; text-align: center; }
    .movie-title { font-size: 2em; margin-bottom: 20px; font-weight: bold; letter-spacing: 1px; }
    .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
    .movie-card { position: relative; background: #1e1e1e; border-radius: 15px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease; }
    .movie-card img { width: 100%; height: 320px; object-fit: cover; display: block; transition: transform 0.3s ease; }
    .movie-card:hover img { transform: scale(1.1); }
    .movie-info { padding: 15px; text-align: left; }
    .movie-info h3 { margin: 0; font-size: 1.2em; }
    .movie-info p { font-size: 0.9em; margin: 5px 0 10px; color: #bbb; }
    .movie-info button { padding: 8px 15px; background: #ff4c29; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: background 0.3s ease; }
    .movie-info button:hover { background: #ff6b4a; }
    /* üîπ Tombol kembali elegan di pojok kanan bawah */
.back-btn {
  position: fixed;
  bottom: 20px;      /* pojok bawah */
  right: 20px;       /* pojok kanan */
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.2);
  color: var(--accent);
  backdrop-filter: blur(8px);
  padding: 10px 18px;
  border-radius: 999px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 100;
}
.back-btn:hover {
  background: var(--accent);
  color: #001;
  transform: translateY(-2px);
  box-shadow: 0 8px 24px greenyellow;
}



  </style>
</head>
<body>
<div class="wrap">

  <!-- HEADER -->
  <div class="header" role="banner" aria-label="header">
    <div class="brand" aria-hidden>
      <div class="logo">L3</div>
      <div>
        <h1>Movie Corner</h1>
        <p style="margin-top:6px;color:var(--muted);font-size:12px">Koleksi film pilihan untuk kelas L3</p>
      </div>
    </div>

    <div class="controls" role="region" aria-label="controls">
      <div class="search" role="search" aria-label="Search movies">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:.9"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <input id="searchInput" type="search" placeholder="Cari judul, genre, atau tahun..." aria-label="Cari film">
      </div>

      <select id="genreFilter" class="select" aria-label="Filter genre">
        <option value="all">Semua Genre</option>
      </select>

      <select id="sortSelect" class="select" aria-label="Sort movies">
        <option value="popular">Sort: Popular</option>
        <option value="new">Sort: Terbaru</option>
        <option value="rating">Sort: Rating Tinggi</option>
      </select>

      <button id="clearBtn" class="btn">Clear</button>
    </div>
  </div>

  <!-- MAIN -->
  <div class="main" role="main">
    <div>
      <div class="movies" id="moviesGrid" aria-live="polite"></div>
      <div class="pagination" id="pagination"></div>
    </div>

    <aside class="sidebar" aria-label="sidebar">
      <h3>Filter Cepat</h3>

      <div class="filter-group">
        <div style="font-size:13px;color:var(--muted);margin-bottom:8px">Genre</div>
        <div class="chips" id="genreChips"></div>
      </div>

      <div class="filter-group">
        <div style="font-size:13px;color:var(--muted);margin-bottom:8px">Tahun</div>
        <div class="chips" id="yearChips"></div>
      </div>

      <div class="watchlist">
        <h3>Watchlist</h3>
        <div id="watchlistItems" style="margin-top:8px"></div>
      </div>
    </aside>
  </div>
</div>

<!-- MODAL -->
<div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document" id="modal">
    <div class="modal-header">
      <div>
        <h2 id="modalTitle" style="margin:0"></h2>
        <div id="modalMeta" style="font-size:13px;color:var(--muted);margin-top:6px"></div>
      </div>
      <div style="display:flex; gap:8px; align-items:center">
        <button class="close-btn" id="favToggle">‚ô° Favorite</button>
        <button class="close-btn" id="modalClose">Close</button>
      </div>
    </div>

    <div class="modal-body">
      <div>
        <img id="modalPoster" alt="Poster film">
        <p id="modalDesc" style="margin-top:12px;color:var(--muted)"></p>
        <div style="margin-top:12px;">
          <div style="font-weight:700;margin-bottom:6px">Trailer</div>
          <div id="trailerWrap" style="width:100%;height:220px;background:#000;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;color:var(--muted)"></div>
        </div>
      </div>

      <div style="padding:6px; border-left:1px solid rgba(255,255,255,0.03)">
        <div style="font-weight:700;margin-bottom:8px">Info Cepat</div>
        <div id="modalQuick" style="font-size:14px;color:var(--muted)"></div>
        <div style="margin-top:16px">
          <button id="addWatchBtn" class="btn">+ Tambah Watchlist</button>
        </div>
      </div>
    </div>
  </div>
</div>

<button class="back-btn" href ="index.html" onclick="history.back()">‚Üê Kembali</button>


<script>
// ===== Sample movies =====
const movies = [
  { id:1, title:"The Conjuring", year:2025, genre:["Drama","Horor"], rating:8.2, poster:"conjuring.jpeg",url:"conjuring.html" ,trailer:"https://www.youtube.com/embed/ScMzIvxBSi4", desc:"Cermin yang penuh akan roh jahat." },
  { id:2, title:"Inception", year:2010, genre:["Thriller","Sci-Fi"], rating:8.7, poster:"https://m.media-amazon.com/images/I/71niXI3lxlL._AC_SY679_.jpg", url:"" ,trailer:"https://www.youtube.com/embed/tgbNymZ7vqY", desc:"Mimpi dalam mimpi, aksi dan teka-teki." },
  { id:3, title:"The Matrix", year:1999, genre:["Action","Sci-Fi"], rating:8.7, poster:"https://m.media-amazon.com/images/I/51EG732BV3L.jpg",url:"" ,trailer:"https://www.youtube.com/embed/YE7VzlLtp-4", desc:"Pil merah atau pil biru? Dunia maya penuh rahasia." },
];

// ===== State =====
let state = {
  search: '',
  genre: 'all',
  sort: 'popular',
  page:1,
  perPage:6,
  watchlist: JSON.parse(localStorage.getItem('watchlist'))||[]
}

// ===== Elements =====
const moviesGrid = document.getElementById('moviesGrid');
const genreFilter = document.getElementById('genreFilter');
const genreChips = document.getElementById('genreChips');
const searchInput = document.getElementById('searchInput');
const sortSelect = document.getElementById('sortSelect');
const clearBtn = document.getElementById('clearBtn');
const pagination = document.getElementById('pagination');

const modalBackdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const modalMeta = document.getElementById('modalMeta');
const modalPoster = document.getElementById('modalPoster');
const modalDesc = document.getElementById('modalDesc');
const modalQuick = document.getElementById('modalQuick');
const trailerWrap = document.getElementById('trailerWrap');
const addWatchBtn = document.getElementById('addWatchBtn');
const modalClose = document.getElementById('modalClose');
const favToggle = document.getElementById('favToggle');
const watchlistItems = document.getElementById('watchlistItems');

// ===== Helper =====
function escapeHtml(str){ return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }

function renderMovies(){
  let filtered = movies.filter(m=>{
    const matchesSearch = m.title.toLowerCase().includes(state.search.toLowerCase()) 
      || m.genre.join(',').toLowerCase().includes(state.search.toLowerCase()) 
      || String(m.year).includes(state.search);
    const matchesGenre = state.genre==='all' || m.genre.includes(state.genre);
    return matchesSearch && matchesGenre;
  });

  if(state.sort==='rating') filtered.sort((a,b)=>b.rating-a.rating);
  if(state.sort==='new') filtered.sort((a,b)=>b.year-b.year);

  const totalPages = Math.ceil(filtered.length/state.perPage);
  if(state.page>totalPages) state.page=1;

  const start = (state.page-1)*state.perPage;
  const end = start+state.perPage;
  const pageItems = filtered.slice(start,end);

  moviesGrid.innerHTML = pageItems.map(m=>`
    <div class="card" tabindex="0">
      <img src="${m.poster}" alt="${escapeHtml(m.title)}" class="poster">
      <div class="card-body">
        <h4 class="title">${escapeHtml(m.title)}</h4>
        <div class="meta">
          <span>${m.year}</span>
          <span class="rating">‚òÖ ${m.rating.toFixed(1)}</span>
        </div>
        <div class="actions">
          <button class="icon-btn heart" data-id="${m.id}">‚ô° Favorite</button>
          <button class="icon-btn info" data-id="${m.id}">Info</button>
        </div>
      </div>
    </div>
  `).join('');

  renderPagination(totalPages);
  updateWatchlistUI();
}

function renderPagination(total){
  pagination.innerHTML = '';
  for(let i=1;i<=total;i++){
    const btn = document.createElement('button');
    btn.textContent = i;
    btn.className = 'page-btn'+(i===state.page?' active':'');
    btn.addEventListener('click',()=>{ state.page=i; renderMovies(); });
    pagination.appendChild(btn);
  }
}

function updateWatchlistUI(){
  watchlistItems.innerHTML = state.watchlist.map(it=>`
    <div class="wl-item">
      <img src="${it.poster}" alt="${escapeHtml(it.title)}">
      <div style="flex:1">
        <div style="font-weight:700">${escapeHtml(it.title)}</div>
        <div style="font-size:12px;color:var(--muted);margin-top:4px">
          <button class="page-btn" style="padding:6px 8px;margin-right:8px" data-id="${it.id}">Open</button>
          <button class="page-btn" style="padding:6px 8px" data-del="${it.id}">Remove</button>
        </div>
      </div>
    </div>
  `).join('');

  watchlistItems.querySelectorAll('[data-del]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      state.watchlist = state.watchlist.filter(i=>i.id!=btn.dataset.del);
      localStorage.setItem('watchlist',JSON.stringify(state.watchlist));
      renderMovies();
    });
  });
  watchlistItems.querySelectorAll('[data-id]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      openModal(movies.find(m=>m.id==btn.dataset.id));
    });
  });
}

function openModal(m){
  modalTitle.textContent = m.title;
  modalMeta.textContent = `${m.year} ‚Ä¢ ${m.genre.join(', ')} ‚Ä¢ ‚òÖ ${m.rating.toFixed(1)}`;
  modalPoster.src = m.poster;
  modalDesc.textContent = m.desc;
  modalQuick.innerHTML = `<div>Rating: <strong>${m.rating}</strong></div><div style="margin-top:8px">Durasi: <strong>‚Äî</strong></div>`;
  trailerWrap.innerHTML = `<iframe width="100%" height="100%" src="${m.trailer}" title="Trailer ${escapeHtml(m.title)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
  addWatchBtn.onclick = ()=>{
    if(!state.watchlist.some(w=>w.id===m.id)) state.watchlist.push(m);
    localStorage.setItem('watchlist',JSON.stringify(state.watchlist));
    alert(`"${m.title}" ditambahkan ke Watchlist`);
    renderMovies();
  }
  modalBackdrop.style.display = 'flex';
  modalBackdrop.setAttribute('aria-hidden','false');
}

modalClose.onclick = ()=>{ modalBackdrop.style.display='none'; modalBackdrop.setAttribute('aria-hidden','true'); }

moviesGrid.addEventListener('click', e=>{
  if(e.target.classList.contains('info')){
    const id = e.target.dataset.id;
    const movie = movies.find(m=>m.id==id);
    if(movie && movie.url){
      window.location.href = movie.url; // redirect ke halaman baru
    }
  }

  if(e.target.classList.contains('heart')){
    const id = e.target.dataset.id;
    e.target.classList.toggle('active');
  }
});


searchInput.addEventListener('input', e=>{ state.search=e.target.value; renderMovies(); });
sortSelect.addEventListener('change', e=>{ state.sort=e.target.value; renderMovies(); });
clearBtn.addEventListener('click', ()=>{ state.search=''; state.genre='all'; state.page=1; searchInput.value=''; renderMovies(); });

// ===== INIT =====
renderMovies();
</script>
</body>
</html>
